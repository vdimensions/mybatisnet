<?xml version="1.0" encoding="utf-8"?>
<Project Sdk="Microsoft.NET.Sdk">
  <PropertyGroup>
    <TargetFrameworks>net46;net35;net40;net35</TargetFrameworks>
  </PropertyGroup>

  <Import Project="../../submodules/vdimensions_msbuild_sdk/src/MultitargetingFrameworkSupport.targets" />
  <Import Project="../MyBatis.Shared.props" />

  <PropertyGroup>
    <ProjectGuid>{F3E45F39-3224-4EAD-B138-EB5CC0E32824}</ProjectGuid>
    <AssemblyName>MyBatis.DataMapper</AssemblyName>
    <DocumentationFile>$(OutputDir)\$(AssemblyName).xml</DocumentationFile>
  </PropertyGroup>

  <PropertyGroup Condition=" '$(Configuration)' == 'Debug' ">
    <DefineConstants>TRACE;DEBUG;dotnet2</DefineConstants>
  </PropertyGroup>

  <PropertyGroup Condition=" '$(Configuration)' == 'Release' ">
    <DefineConstants>TRACE;dotnet2</DefineConstants>
  </PropertyGroup>

  <ItemGroup Condition="'$(TargetFrameworkIdentifier)' == '.NETFramework'">
    <Reference Include="System" />
    <Reference Include="System.Configuration" />
    <Reference Include="System.Core" />
    <Reference Include="System.Data" />
    <Reference Include="System.Xml" />
  </ItemGroup>

  <ItemGroup>
    <Reference Include="Castle.Core, Version=1.0.3.0, Culture=neutral, PublicKeyToken=407dd0808d44fbdc, processorArchitecture=MSIL">
      <SpecificVersion>False</SpecificVersion>
      <HintPath>..\External-Bin\Net\2.0\Castle.Core.dll</HintPath>
    </Reference>
    <Reference Include="Castle.DynamicProxy2, Version=2.0.3.0, Culture=neutral, PublicKeyToken=407dd0808d44fbdc, processorArchitecture=MSIL">
      <SpecificVersion>False</SpecificVersion>
      <HintPath>..\External-Bin\Net\2.0\Castle.DynamicProxy2.dll</HintPath>
    </Reference>
  </ItemGroup>

  <ItemGroup>
    <ProjectReference Include="..\MyBatis.Common\MyBatis.Common.csproj">
      <Project>{BBC8DA4A-EA88-41D9-8B93-929B8F3ADADE}</Project>
    </ProjectReference>
  </ItemGroup>

  <ItemGroup>
    <Compile Remove="AssemblyInfo.cs" />
    <Compile Remove="Configuration/Alias/*.cs" />
    <Compile Remove="Configuration/Cache/*.cs" />
    <Compile Remove="Configuration/Interpreters/Config/Xml/AbstractInterpreter.cs" />
    <Compile Remove="Configuration/ParameterMapping/*.cs" />
    <Compile Remove="Configuration/ResultMapping/*.cs" />
    <Compile Remove="Configuration/Serializers/SqlDeSerializer.cs" />
    <Compile Remove="Configuration/Sql/*.cs" />
    <Compile Remove="Configuration/Statements/*.cs" />
    <Compile Remove="Configuration/DomSqlMapBuilder.cs" />
    <Compile Remove="Data/IDbDataParameterCollection.cs" />
    <Compile Remove="MappedStatements/PaginatedList.cs" />
    <Compile Remove="Model/Statements/Generate.cs" />
    <Compile Remove="Model/Statements/SqlGenerator.cs" />
    <Compile Remove="Scope/ConfigurationScope.cs" />
    <Compile Remove="Session/SessionStoreFactory.cs" />
    <Compile Remove="SessionStore/*.cs" />
  </ItemGroup>

  <ItemGroup>
    <Content Include="ChangeLog.txt" />
    <Content Include="licence.txt" />
    <Content Include="notice.txt" />
    <Content Include="ReadMe.txt" />
  </ItemGroup>

  <ItemGroup>
    <None Include="Apache.Ibatis.DataMapperr.build" />
    <None Include="Configuration\Module\ModuleDiagram.cd" />
    <None Include="DataMapperDiagram.cd" />
    <None Include="MappedStatements\ResultStrategy\ClassDiagram.cd" />
    <None Include="Model\Events\Events.cd" />
  </ItemGroup>

  <ItemGroup>
    <EmbeddedResource Include="SqlMap.xsd" />
    <EmbeddedResource Include="SqlMapConfig.xsd" />
  </ItemGroup>
  
  <ItemGroup>
    <Folder Include="Configuration\Interpreters\Mapping\" />
  </ItemGroup>
</Project>